const imgPath1=$("#posts-list-container").attr("likeImgPath1");let noty=function(t,e){new Noty({theme:"relax",text:t,type:e,layout:"topRight",timeout:1500}).show()};class CommentForm{constructor(t){this.form=t,this.addComment()}addComment(){$(this.form).submit((function(t){t.preventDefault();let e=$(this);$.ajax({type:"POST",url:"/comments/create",data:e.serialize()}).done((function(t){const{comment:e,noty_text:n}=t.data;let o=newCommentDom(e);$(`#post-comments-${e.post}`).prepend(o),noty(n,"success"),new DeleteItem($(".delete-button",o)),new ToggleLike($(".toggle-like-button",o))})).fail((function(t){noty(response.data.noty_text,"error"),console.log("error in completing request")}))}))}}let newCommentDom=t=>$(`<li id='comment-${t._id}'>\n            <a id='button-${t._id}' href='/comments/destroy/${t._id}' class="delete-button">X</a>  \n\n        <a href="/users/profile/${t.user._id}">\n            <small> ${t.user.name} </small>\n        </a>\n        <p> ${t.content} </p>\n\n        <small>\n                <a class='toggle-like-button' likes-count=${t.likes.length} href='likes/toggle/?id=${t._id}&type=Comment'>\n                    <img src=${imgPath1} class='likeButtonWhite'>\n                    ${t.likes.length} Likes \n                </a>\n        </small>\n    \n    </li>`);